(this["webpackJsonplinktree-clone"]=this["webpackJsonplinktree-clone"]||[]).push([[2],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a}));var r=function(){return localStorage.getItem("linkme__authToken")},c=function(e){return localStorage.setItem("linkme__authToken",e)},a=function(){return localStorage.removeItem("linkme__authToken")}},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={Home:"/",Auth:"/auth",Signin:"/auth/signin",Signup:"/auth/signup",ForgotPassword:"/auth/forgot-password",Dashboard:"/admin",Account:"/admin/account",Appearance:"/admin/appearance",Pro:"/admin/pro"}},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return p}));var r=n(24),c=n(4),a=n.n(c),u=n(8),i=n(16),s=n(0),o=n(9),l=n(15),f=n(10),d=n(1),b=Object(s.createContext)();function j(e){var t=Object(s.useState)(),n=Object(i.a)(t,2),c=n[0],j=n[1],p=Object(s.useState)(!0),h=Object(i.a)(p,2),O=h[0],v=h[1],x=function(){var e=Object(u.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Object(f.a)()){e.next=8;break}return e.next=5,o.a.auth.me();case 5:t=e.sent,n=t.user,j(n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Object(f.b)();case 13:v(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){x()}),[]);var m=Object(s.useCallback)(function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.auth.login(t);case 2:n=e.sent,r=n.token,c=n.user,Object(f.c)(r),j(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]),g=Object(s.useCallback)(function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.auth.register(t);case 2:n=e.sent,r=n.token,c=n.user,Object(f.c)(r),j(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]),k=Object(s.useCallback)((function(){Object(f.b)(),window.location.reload()}),[j]),w=Object(s.useCallback)(function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.user.update(t);case 2:n=e.sent,r=n.user,j(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]),P=Object(s.useCallback)(Object(u.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.user.delete();case 2:k();case 3:case"end":return e.stop()}}),e)}))),[j]),S=Object(s.useMemo)((function(){return{user:c,login:m,logout:k,register:g,update:w,_delete:P}}),[m,k,g,w,P,c]);return O?Object(d.jsx)(l.a,{}):Object(d.jsx)(b.Provider,Object(r.a)({value:S},e))}function p(){var e=Object(s.useContext)(b);if(void 0===e)throw new Error("useAuth must be used within a AuthProvider");return e}},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(0),n(37);var r=n(1);function c(){return Object(r.jsxs)("div",{className:"spinner",children:[Object(r.jsx)("div",{className:"spinner-dot"}),Object(r.jsx)("div",{className:"spinner-dot"}),Object(r.jsx)("div",{className:"spinner-dot"}),Object(r.jsx)("div",{className:"spinner-dot"}),Object(r.jsx)("div",{className:"spinner-dot"}),Object(r.jsx)("div",{className:"spinner-dot"})]})}},36:function(e,t,n){},37:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n.n(r),a=n(8),u=n(0),i=n.n(u),s=n(18),o=n.n(s),l=n(17),f=(n(36),n(14)),d=n(15),b=n(2),j=n(12),p=n(1),h=i.a.lazy((function(){return Promise.all([n.e(0),n.e(5),n.e(7)]).then(n.bind(null,451))})),O=i.a.lazy((function(){return Promise.all([n.e(1),n.e(0),n.e(9)]).then(n.bind(null,454))}));var v=function(){return Object(f.b)().user,Object(p.jsx)(i.a.Suspense,{fallback:Object(p.jsx)(d.a,{}),children:Object(p.jsxs)(b.d,{children:[Object(p.jsx)(b.b,{path:j.a.Home,exact:!0,children:"homepage"}),Object(p.jsx)(b.b,{path:j.a.Dashboard,children:Object(p.jsx)(h,{})}),Object(p.jsx)(b.b,{path:j.a.Auth,children:Object(p.jsx)(O,{})}),Object(p.jsx)(b.b,{path:"*",children:"404"})]})})},x=function(e){e&&e instanceof Function&&n.e(13).then(n.bind(null,440)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,u=t.getTTFB;n(e),r(e),c(e),a(e),u(e)}))},m=n(9),g=function(e){var t=e.site;return console.log(t),Object(p.jsx)("div",{className:"site",style:{backgroundImage:"url(".concat(t.background,")")},children:JSON.stringify(t)})};function k(){return(k=Object(a.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.pathname,Object.values(j.a).includes(t)){e.next=9;break}return e.next=5,m.a.user.site(t.slice(1));case 5:if(n=e.sent,!(r=n.site)){e.next=9;break}return e.abrupt("return",w(r));case 9:P();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){o.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(g,{site:e})}),document.getElementById("root"))}function P(){o.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(l.a,{children:Object(p.jsx)(f.a,{children:Object(p.jsx)(v,{})})})}),document.getElementById("root"))}!function(){k.apply(this,arguments)}(),x()},9:function(e,t,n){"use strict";var r=n(10),c="https://---";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,a=Object(r.a)(),u={Accept:"application/json","content-type":"application/json",Authorization:a?"Bearer ".concat(a):void 0};return fetch(c+"/api"+e,{method:t,headers:u,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return!1===e.success?Promise.reject(e):e}))}t.a={auth:{me:function(){return a("/auth/me")},login:function(e){return a("/auth/login","POST",e)},register:function(e){return a("/auth/register","POST",e)},resetPassword:function(e){return a("/auth/register","POST",e)},forgotPassword:function(e){return a("/auth/register","POST",e)}},site:{get:function(e){return a("/site/".concat(e))},update:function(e){return a("/site","PATCH",e)}},user:{site:function(e){return a("/user/".concat(e))},update:function(e){return a("/user","PATCH",e)},delete:function(){return a("/user","DELETE")}},link:{create:function(){return a("/link","POST")},update:function(e,t){return a("/link/".concat(e),"PATCH",t)},reOrder:function(e){return a("/link/order","PATCH",e)},delete:function(e){return a("/link/".concat(e),"DELETE")}}}}},[[43,3,6]]]);
//# sourceMappingURL=main.37231919.chunk.js.map