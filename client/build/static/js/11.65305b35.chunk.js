(this["webpackJsonplinktree-clone"]=this["webpackJsonplinktree-clone"]||[]).push([[11],{447:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return w}));var n=t(25),i=t(4),r=t.n(i),c=t(8),s=t(16),l=t(0),o=t(61),u=t(456),d=t(438),m=t(411),b=t(412),j=t(459),h=t(80),O=t(439),x=t(14),g=t(92),p=t(83),f=t(103),v=t(1);function w(){var e,a=Object(x.b)(),t=a.user,i=a._delete,w=a.update,N=Object(l.useState)(!1),y=Object(s.a)(N,2),C=y[0],_=y[1],k=Object(g.d)({resolver:Object(f.joiResolver)(p.a),mode:"onChange"}),S=k.control,q=k.handleSubmit,A=k.errors,E=k.formState,z=Object(l.useState)(!1),D=Object(s.a)(z,2),M=(D[0],D[1]),R=Object(l.useState)(),U=Object(s.a)(R,2),V=U[0],B=U[1],H=E.isDirty,I=function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,e.next=4,w(a);case 4:u.a.success("Account Updated!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),B(e.t0.message);case 10:M(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"account page__container",children:[Object(v.jsx)(d.a,{className:"account__title",children:"My Account"}),Object(v.jsx)(d.a,{size:600,className:"box__title",children:"My information"}),Object(v.jsxs)("form",{onSubmit:q(I),children:[!!V&&Object(v.jsx)(m.a,{intent:"danger",marginBottom:15,title:V}),Object(v.jsxs)("div",{className:"box shadow-sm",children:[Object(v.jsx)(g.a,{name:"fullName",control:S,defaultValue:t.fullName,render:function(e){var a,t=e.onChange,n=e.value;return Object(v.jsx)(b.a,{label:"Name",inputHeight:40,isInvalid:!!A.fullName,validationMessage:null===(a=A.fullName)||void 0===a?void 0:a.message,onChange:t,value:n,placeholder:"Name"})}}),Object(v.jsx)(g.a,{name:"email",control:S,defaultValue:t.email,render:function(e){var a,t=e.onChange,n=e.value;return Object(v.jsx)(b.a,{label:"Email",inputHeight:40,isInvalid:!!A.email,validationMessage:null===(a=A.email)||void 0===a?void 0:a.message,onChange:t,value:n,type:"email",placeholder:"Email"})}})]}),Object(v.jsx)(o.a,(e={height:40},Object(n.a)(e,"height",50),Object(n.a)(e,"type","submit"),Object(n.a)(e,"disabled",!H),Object(n.a)(e,"children","Save details"),e))]}),Object(v.jsx)(d.a,{size:600,className:"box__title",children:"Account actions"}),Object(v.jsx)("div",{className:"box shadow-sm",children:Object(v.jsx)(o.a,{height:40,appearance:"primary",children:"Reset Password"})}),Object(v.jsx)(d.a,{size:600,className:"box__title",children:"Danger Zone"}),Object(v.jsx)("div",{className:"box shadow-sm",children:Object(v.jsx)(o.a,{height:40,intent:"danger",appearance:"primary",onClick:function(){return _(!0)},children:"Delete Account"})}),C&&Object(v.jsx)(j.a,{isShown:!0,title:"Are you sure?",intent:"danger",onConfirm:i,onCloseComplete:function(){return _(!1)},children:Object(v.jsxs)("div",{className:"delete-user-dialog",children:[Object(v.jsx)(h.a,{color:"black",size:500,children:"Deleting your account is irreversible. Please proceed with caution."}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)(h.a,{color:"black",size:500,children:["By selecting YES, DELETE MY ACCOUNT below, your primary tree (@",t.username,") will be imediately terminated and your data will be lost. Visitors will no longer be able to"," ",Object(v.jsx)(O.a,{href:"".concat(window.location.origin,"/").concat(t.username),children:"access your URL."})]})]})})]})}},83:function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return s}));var n=t(82),i=t.n(n),r=i.a.object({email:i.a.string().email({tlds:{allow:!1}}).required(),password:i.a.string().required().min(6).max(24)}),c=i.a.object({email:i.a.string().email({tlds:{allow:!1}}).required(),password:i.a.string().required().min(6).max(24),fullName:i.a.string().min(4).max(30).trim().required(),username:i.a.string().min(3).max(20).alphanum().trim().required()}),s=i.a.object({fullName:i.a.string().required().min(4).max(24),email:i.a.string().email({tlds:{allow:!1}})})}}]);
//# sourceMappingURL=11.65305b35.chunk.js.map